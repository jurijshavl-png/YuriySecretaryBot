from telegram import Update
from telegram.ext import ContextTypes, CommandHandler
from datetime import datetime

# –ü—Ä–æ—Å—Ç–∞—è –ª–æ–≥–∏–∫–∞ –ø–æ –≤—Ä–µ–º–µ–Ω–∏ –≥–æ–¥–∞
def get_seasonal_tips(month):
    tips = {
        1: "üå± –Ø–Ω–≤–∞—Ä—å: –æ—Ç–¥—ã—Ö —Å–∞–¥–∞. –ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ, –Ω–µ –ø–æ–≤—Ä–µ–∂–¥–µ–Ω—ã –ª–∏ —Å—Ç–≤–æ–ª—ã –∏ –≤–µ—Ç–∫–∏ –æ—Ç —Å–Ω–µ–≥–∞ –∏–ª–∏ –º–æ—Ä–æ–∑–∞.",
        2: "üå± –§–µ–≤—Ä–∞–ª—å: –∑–∞—â–∏—Ç–∞ –æ—Ç –≥—Ä—ã–∑—É–Ω–æ–≤, –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ –æ–±—Ä–µ–∑–∫–µ.",
        3: "‚úÇÔ∏è –ú–∞—Ä—Ç: –Ω–∞—á–Ω–∏—Ç–µ –æ–±—Ä–µ–∑–∫—É –¥–µ—Ä–µ–≤—å–µ–≤ –¥–æ –Ω–∞—á–∞–ª–∞ —Å–æ–∫–æ–¥–≤–∏–∂–µ–Ω–∏—è. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –≥–∞–∑–æ–Ω–∞.",
        4: "üåø –ê–ø—Ä–µ–ª—å: —É–¥–æ–±—Ä–µ–Ω–∏—è –¥–ª—è —Å–∞–¥–∞, —Å—Ç—Ä–∏–∂–∫–∞ –≥–∞–∑–æ–Ω–∞, –ø–æ—Å–∞–¥–∫–∞ –Ω–æ–≤—ã—Ö —Å–∞–∂–µ–Ω—Ü–µ–≤.",
        5: "üåº –ú–∞–π: –±–æ—Ä—å–±–∞ —Å –≤—Ä–µ–¥–∏—Ç–µ–ª—è–º–∏, –ø–æ–ª–∏–≤ –∏ –º—É–ª—å—á–∏—Ä–æ–≤–∞–Ω–∏–µ. –ì–∞–∑–æ–Ω –∞–∫—Ç–∏–≤–Ω–æ —Ä–∞—Å—Ç—ë—Ç ‚Äî –∫–æ—Å–∏—Ç–µ —Ä–µ–≥—É–ª—è—Ä–Ω–æ.",
        6: "üçí –ò—é–Ω—å: –ø–æ–¥–∫–æ—Ä–º–∫–∞, –∑–∞—â–∏—Ç–∞ –æ—Ç –±–æ–ª–µ–∑–Ω–µ–π. –°–±–æ—Ä –ø–µ—Ä–≤—ã—Ö —è–≥–æ–¥.",
        7: "üåû –ò—é–ª—å: —Ä–µ–≥—É–ª—è—Ä–Ω—ã–π –ø–æ–ª–∏–≤, –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—Ç –≤—Ä–µ–¥–∏—Ç–µ–ª–µ–π. –ö–æ—Å–∏—Ç–µ —Ç—Ä–∞–≤—É –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏.",
        8: "üçé –ê–≤–≥—É—Å—Ç: —Å–±–æ—Ä —É—Ä–æ–∂–∞—è, —Å–∞–Ω–∏—Ç–∞—Ä–Ω–∞—è –æ–±—Ä–µ–∑–∫–∞.",
        9: "üçÇ –°–µ–Ω—Ç—è–±—Ä—å: –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ –æ—Å–µ–Ω–∏, –ø–æ—Å–∞–¥–∫–∞ –Ω–æ–≤—ã—Ö –¥–µ—Ä–µ–≤—å–µ–≤ –∏ –∫—É—Å—Ç–æ–≤.",
        10: "üçÅ –û–∫—Ç—è–±—Ä—å: —É–±–æ—Ä–∫–∞ –ª–∏—Å—Ç—å–µ–≤, –≤–ª–∞–≥–æ–∑–∞—Ä—è–¥–∫–æ–≤—ã–π –ø–æ–ª–∏–≤.",
        11: "‚ùÑÔ∏è –ù–æ—è–±—Ä—å: –ø–æ–±–µ–ª–∫–∞ –¥–µ—Ä–µ–≤—å–µ–≤, —É–∫—Ä—ã—Ç–∏–µ –º–æ–ª–æ–¥—ã—Ö —Å–∞–∂–µ–Ω—Ü–µ–≤.",
        12: "‚ùÑÔ∏è –î–µ–∫–∞–±—Ä—å: –∫–æ–Ω—Ç—Ä–æ–ª—å –∑–∞ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º —É–∫—Ä—ã—Ç–∏–π –∏ —Å–Ω–µ–≥–æ–∑–∞–¥–µ—Ä–∂–∞–Ω–∏–µ.",
    }
    return tips.get(month, "–ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö –ø–æ —Ç–µ–∫—É—â–µ–º—É –º–µ—Å—è—Ü—É.")

async def gardening_command(update: Update, context: ContextTypes.DEFAULT_TYPE) -> None:
    now = datetime.now()
    tips = get_seasonal_tips(now.month)
    await update.message.reply_text(f"üß§ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —Å–∞–¥—É –Ω–∞ *{now.strftime('%B')}*:\n\n{tips}", parse_mode="Markdown")

def register_gardening_command(application):
    application.add_handler(CommandHandler("—Å–∞–¥", gardening_command))
